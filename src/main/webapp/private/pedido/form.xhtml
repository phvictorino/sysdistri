<ui:composition template="/WEB-INF/templates/template.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui">

	<ui:define name="title">Formulário de Pedido</ui:define>

	<ui:define name="content">
		<div class="ui-grid">
			<div class="ui-grid-responsive">

				<p:panelGrid id="gridFormPedido" columns="2"
					columnClasses="ui-grid-col-2,ui-grid-col-8" layout="grid"
					styleClass="panelgrid-noborder">

					<p:outputLabel value="Vendedor" for="vendedor" />
					<p:selectOneMenu id="vendedor"
						value="#{mbPedido.pedido.codVendedor}" required="true"
						filter="true" filterMatchMode="startsWith">
						<f:selectItem noSelectionOption="true" itemLabel="Selecione" />
						<f:selectItems value="#{mbPedido.vendedores}" var="v"
							itemLabel="#{v.nome}" itemValue="#{v.id}" />
						<p:ajax event="change" process="gridFormPedido" />
					</p:selectOneMenu>

					<p:outputLabel value="Cliente" for="cliente" />
					<p:selectOneMenu id="cliente" value="#{mbPedido.pedido.codCliente}"
						required="true" filter="true" filterMatchMode="startsWith">
						<f:selectItem noSelectionOption="true" itemLabel="Selecione" />
						<f:selectItems value="#{mbPedido.clientes}" var="c"
							itemLabel="#{c.nome}" itemValue="#{c.id}" />
					</p:selectOneMenu>

					<p:outputLabel value="Forma Pagamento" for="formaPag" />
					<p:selectOneMenu id="formaPag"
						value="#{mbPedido.pedido.codFormaPagamento}" required="true"
						filter="true" filterMatchMode="startsWith">
						<f:selectItem noSelectionOption="true" itemLabel="Selecione" />
						<f:selectItems value="#{mbPedido.formasPagamento}" var="fp"
							itemValue="#{fp.codigo}" itemLabel="#{fp.descricao}" />
					</p:selectOneMenu>

					<p:outputLabel value="Data Pedido" for="dataPed" />
					<p:calendar id="dataPed" value="#{mbPedido.pedido.dataPedido}"
						pattern="dd/MM/yyyy" locale="pt_BR" />

					<p:outputLabel value="Observação" for="observacao" />
					<p:inputTextarea id="observacao" maxlength="100"
						value="#{mbPedido.pedido.observacao}" />

					<p:outputLabel />
					<p:commandButton value="Salvar" action="#{mbPedido.salvar()}"
						process="@form" update="@form" />
				</p:panelGrid>

			</div>
		</div>
	</ui:define>
</ui:composition>